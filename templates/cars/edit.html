{% extends "base.html" %}

{% block title %}Edit Car - CARZEO{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <div>
        <h1 class="h3 mb-0">
            <i class="fas fa-edit"></i> Edit Car
        </h1>
        <p class="text-muted">Update car information</p>
    </div>
    <a href="{{ url_for('cars') }}" class="btn btn-secondary">
        <i class="fas fa-arrow-left"></i> Back to Inventory
    </a>
</div>

<div class="card">
    <div class="card-header">
        <h6 class="m-0 font-weight-bold">
            <i class="fas fa-car"></i> Edit {{ car.brand }} {{ car.model }}
        </h6>
    </div>
    <div class="card-body">
        <form method="POST">
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="brand" class="form-label">Brand *</label>
                    <input type="text" class="form-control" id="brand" name="brand" value="{{ car.brand }}" required>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="model" class="form-label">Model *</label>
                    <input type="text" class="form-control" id="model" name="model" value="{{ car.model }}" required>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="year" class="form-label">Year *</label>
                    <select class="form-select" id="year" name="year" required>
                        {% for year in range(2024, 2019, -1) %}
                            <option value="{{ year }}" {% if year == car.year %}selected{% endif %}>{{ year }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="color" class="form-label">Color *</label>
                    <input type="text" class="form-control" id="color" name="color" value="{{ car.color }}" required>
                </div>
                <div class="col-md-4 mb-3">
                                                <label for="price" class="form-label">Price (à§³) *</label>
                    <input type="number" class="form-control" id="price" name="price" step="0.01" min="0" value="{{ car.price }}" required>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4 mb-3">
                    <label for="fuel_type" class="form-label">Fuel Type *</label>
                    <select class="form-select" id="fuel_type" name="fuel_type" required>
                        <option value="Petrol" {% if car.fuel_type == 'Petrol' %}selected{% endif %}>Petrol</option>
                        <option value="Diesel" {% if car.fuel_type == 'Diesel' %}selected{% endif %}>Diesel</option>
                        <option value="Electric" {% if car.fuel_type == 'Electric' %}selected{% endif %}>Electric</option>
                        <option value="Hybrid" {% if car.fuel_type == 'Hybrid' %}selected{% endif %}>Hybrid</option>
                        <option value="CNG" {% if car.fuel_type == 'CNG' %}selected{% endif %}>CNG</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="transmission" class="form-label">Transmission *</label>
                    <select class="form-select" id="transmission" name="transmission" required>
                        <option value="Manual" {% if car.transmission == 'Manual' %}selected{% endif %}>Manual</option>
                        <option value="Automatic" {% if car.transmission == 'Automatic' %}selected{% endif %}>Automatic</option>
                        <option value="CVT" {% if car.transmission == 'CVT' %}selected{% endif %}>CVT</option>
                    </select>
                </div>
                <div class="col-md-4 mb-3">
                    <label for="available_stock" class="form-label">Available Stock *</label>
                    <input type="number" class="form-control" id="available_stock" name="available_stock" min="0" value="{{ car.available_stock }}" required>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="engine_capacity" class="form-label">Engine Capacity (L)</label>
                    <input type="number" class="form-control" id="engine_capacity" name="engine_capacity" step="0.1" min="0" value="{{ car.engine_capacity or '' }}">
                </div>
                <div class="col-md-6 mb-3">
                    <label for="mileage" class="form-label">Mileage (km)</label>
                    <input type="number" class="form-control" id="mileage" name="mileage" step="0.01" min="0" value="{{ car.mileage or '' }}">
                </div>
            </div>

            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" name="description" rows="4">{{ car.description or '' }}</textarea>
            </div>

            <div class="d-flex justify-content-between">
                <a href="{{ url_for('cars') }}" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Cancel
                </a>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Update Car
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %} 